<form>
  <label>Panel-defined search</label>

  <fieldset>
    
      <html>
        <div class="form_bg"><div class="content_width">
        <h1>Simple XML - Multi-panel linked form search</h1>
        <p>
          This form search dispatches three separate searches in the three panels, each listening
          to the common 'sourcetypeToken' text box input.  This is useful for a page that groups together disparate form searches
          that share a common search keyword/token.
        </p>
        <p><b>Note:</b> because this page dispatches multiple searches, the JobStatus bar does not appear.
        </p>
        <p>
          Each panel specifies the same search using the &lt;searchTemplate&gt; tag. However, each panel pipes the results to a different time chart.
        </p>
        <div class="samplecode">
            &lt;searchTemplate&gt;
            <br />&#160;&#160;index=_internal source=*metrics.log group="per_sourcetype_thruput" 
            <br />&#160;&#160;series="$sourcetypeToken$" | <b>timechart sum(kb)</b>
            <br />&lt;/searchTemplate&gt;
            <br /><br />&lt;searchTemplate&gt;
            <br />&#160;&#160;index=_internal source=*metrics.log group="per_sourcetype_thruput"
            <br />&#160;&#160;series="$sourcetypeToken$" | <b>timechart avg(eps)</b>
            <br />&lt;/searchTemplate&gt;
            <br /><br />&lt;searchTemplate&gt;
            <br />&#160;&#160;index=_internal source=*metrics.log group="per_sourcetype_thruput"
            <br />&#160;&#160;series="$sourcetypeToken$" | <b>timechart avg(kbps)</b>
            <br />&lt;/searchTemplate&gt;
        </div>
        <p>
          The common search input used by all panels:
        </p>
        <div class="samplecode"><pre><![CDATA[
<input type="text" token="sourcetypeToken"> 
  <label>sourcetype</label> 
  <default>*</default> 
  <seed>splunkd</seed> 
</input>]]></pre></div>
        
        <h1>Source code</h1>
        <p>
          View the <a target="_blank" href="/static/app/dashboard_examples/samples/form_inverted_flow_search_sample.html">source code to implement this form</a>. (Opens in a new window.)
        </p>
        
        <h1>What's next?</h1>
        <p>
          [<a href="/app/dashboard_examples/form_inverted_flow_dropdown">Next: Multi-panel linked form search driven by select dropdown</a>]
          <br />[<a href="/app/dashboard_examples/form_static_definitions">Prev: Forms using static dropdowns and radio buttons</a>]
        </p>
        <p>
          [<a href="../dashboard_examples/forms1">Simple XML Forms Home</a>]
          <br />[<a href="../dashboard_examples/dashboard0">Dashboard Examples Home</a>]
        </p>
         
        </div></div>
        
        <p style="padding-top: 6px"></p>
        <hr />
      </html>
      
      <!-- define a common form search input that will be used by all panels
          below that implement a searchTemplate node -->
      <input type="text" token="sourcetypeToken">
          <label>sourcetype</label>
          <default>*</default>
          <seed>splunkd</seed>
      </input>

      <input type="time">
        <default>Last 4 hours</default>
      </input>

  </fieldset>
      
  <row>
      <chart>
          <title>KB Indexed over time</title>
          <searchTemplate>
            index=_internal source=*metrics.log group="per_sourcetype_thruput" series="$sourcetypeToken$"
            | timechart sum(kb)
          </searchTemplate>
          <option name="charting.chart">column</option>
          <option name="charting.primaryAxisTitle.text">Sourcetype</option>
          <option name="charting.secondaryAxisTitle.text">KB Indexed</option>
          <option name="charting.legend.placement">none</option>
      </chart>
      <chart>
          <title>Average events per second over time</title>
          <searchTemplate>
            index=_internal source=*metrics.log group="per_sourcetype_thruput" series="$sourcetypeToken$"
            | timechart avg(eps)
          </searchTemplate>
          <option name="charting.chart">area</option>
          <option name="chart.stackMode">stacked</option>
          <option name="charting.primaryAxisTitle.text">Sourcetype</option>
          <option name="charting.secondaryAxisTitle.text">Events per second</option>
          <option name="charting.legend.placement">none</option>
      </chart>
  </row>

  <row>
      <table>
          <title>average kbps over time</title>
          <searchTemplate>
            index=_internal source=*metrics.log group="per_sourcetype_thruput" series="$sourcetypeToken$"
            | timechart avg(kbps)
          </searchTemplate>
          <option name="count">20</option>
      </table>
  </row>
  
</form>