<div class="help_style">

  <h1>CPU/Memory Usage</h1>
  <p>This view displays memory and CPU usage statistics for Splunk Web, splunkd, and search processes for the instance selected in the top-level pulldown. It uses events from the <code>ps_sos.sh</code> scripted input (<code>ps_sos.ps1</code> on Windows systems), which is based on the <code>ps</code> command (the <code>Get-Process</code> PowerShell cmdlet on Windows systems), and events from the search head's <code>_audit</code> index.

<p>To display statistics for search peers, install the <i>Splunk on Splunk Add-on</i> on those instances. The S.o.S Add-on is available for UNIX/Linux and Windows and can be downloaded from Splunk Apps:<br>
  <ul>
    <li><a href="http://apps.splunk.com/app/870" target="_blank"class="spl-icon-external-link-xsm">S.o.S Add-on for UNIX and Linux</a></li>
    <li><a href="http://apps.splunk.com/app/1177" target="_blank"class="spl-icon-external-link-xsm">S.o.S Add-on for Windows</a></li>
  </ul>

  <h2>Enable the ps_sos.sh (UNIX/Linux) or ps_sos.ps1 (Windows) scripted input</h2>
<p>You must enable the ps_sos.sh (UNIX/Linux) or ps_sos.ps1 (Windows) scripted inputs for this view to display any data. To enable this view, go to <a target="_blank" href="../../../manager/sos/data/inputs/script">Settings > Data Inputs > Scripts</a>, look for the following data input and enable it:</p>
  <p><code>$SPLUNK_HOME/etc/apps/sos/bin/ps_sos.sh</code> (on UNIX/Linux systems)</p>
  <p><code>$SPLUNK_HOME/etc/apps/sos/bin/ps_sos.ps1</code> (on Windows systems)</p>

  <p>On Windows systems, you must also enable local PowerShell script execution on servers on which the Add-on is installed. Review the Add-on's README for details.</p>
  <p>After you enable the scripted input, S.o.S gathers resource usage information, sending it to the <code>sos</code> index.</p>
  <p><b>Note: </b>The data gathered by this input counts against the daily licensed volume.</p>

  <h2>Interpreting resource usage statistics</h2>
    <p>Some results in this view are based on CPU usage percentage reported by the <code>ps</code> command. This metric is calculated by <code>ps</code> as:
    <br><br><code>cputime/(lifetime of process)</code><br><br>
    <p><b>Notes: </b>In the case of abrupt changes in long-running processes, such as splunkd or Splunk Web, the graph depicting CPU usage smoothes out over time instead of showing a sudden change. This does not apply to the line graph for search processes, as these data points represent aggregated values for all searches running during the observed time frame.</p>
    <p>CPU usage typically does not add up to 100% for multi-threaded processes such as splunkd, and in fact often exceeds that value.</p>
    <p>In addition, the resource usage for searches is aggregated from a sum of all processes running over the period of time in scope.</p>
    <p>As a rule of thumb, every 100% of CPU usage reported represents <b>one full CPU core</b> used</p>

  <h2>Searches used in this view</h2>  
  <p>
    Click the <b>View results</b> link in each panel to open the search in the Search view. You can inspect, modify, and export the search results from the Search view.
  </p>

</div>
